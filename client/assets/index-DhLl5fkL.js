import{a as h,o as s}from"./chunk-NL6KNZEE-CQkoafV0.js";import{g as T,b as C,u as S,c as B,d as U,e as R,m as M,f as W,q as P,B as _}from"./config-DlFqBImT.js";import{i as O}from"./Alert-4o-22xWm.js";import{e as u}from"./createTheme-CCn_blMs.js";function N(a){return T("MuiTypography",a)}C("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const D={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},E=O(),I=a=>{const{align:e,gutterBottom:t,noWrap:r,paragraph:n,variant:p,classes:i}=a,o={root:["root",p,a.align!=="inherit"&&`align${u(e)}`,t&&"gutterBottom",r&&"noWrap",n&&"paragraph"]};return R(o,N,i)},L=B("span",{name:"MuiTypography",slot:"Root",overridesResolver:(a,e)=>{const{ownerState:t}=a;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${u(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(M(({theme:a})=>{var e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(a.typography).filter(([t,r])=>t!=="inherit"&&r&&typeof r=="object").map(([t,r])=>({props:{variant:t},style:r})),...Object.entries(a.palette).filter(W()).map(([t])=>({props:{color:t},style:{color:(a.vars||a).palette[t].main}})),...Object.entries(((e=a.palette)==null?void 0:e.text)||{}).filter(([,t])=>typeof t=="string").map(([t])=>({props:{color:`text${u(t)}`},style:{color:(a.vars||a).palette.text[t]}})),{props:({ownerState:t})=>t.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:t})=>t.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:t})=>t.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:t})=>t.paragraph,style:{marginBottom:16}}]}})),x={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},q=h.forwardRef(function(e,t){const{color:r,...n}=S({props:e,name:"MuiTypography"}),p=!D[r],i=E({...n,...p&&{color:r}}),{align:o="inherit",className:c,component:l,gutterBottom:b=!1,noWrap:v=!1,paragraph:m=!1,variant:g="body1",variantMapping:y=x,...d}=i,f={...i,align:o,color:r,className:c,component:l,gutterBottom:b,noWrap:v,paragraph:m,variant:g,variantMapping:y},j=l||(m?"p":y[g]||x[g])||"span",w=I(f);return s.jsx(L,{as:j,ref:t,className:U(w.root,c),...d,ownerState:f,style:{...o!=="inherit"&&{"--Typography-textAlign":o},...d.style}})}),z=P(s.jsx("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"})),F=({onImageSelect:a,defaultImage:e,sx:t={}})=>{const[r,n]=h.useState(null);h.useEffect(()=>{e&&n(e)},[e]);const p=i=>{var l;const o=(l=i.target.files)==null?void 0:l[0];if(!o)return;const c=URL.createObjectURL(o);n(c),a(o)};return s.jsxs(_,{component:"label",variant:"outlined",sx:{width:"100%",aspectRatio:"1 / 1",maxWidth:"350px",border:"1px solid rgba(0, 0, 0, 0.23)",padding:0,overflow:"hidden",margin:"auto",...t},children:[r?s.jsx("img",{src:r,alt:"預覽圖片",className:"w-full h-full object-cover aspect-square"}):s.jsxs("div",{className:"text-gray-100 flex flex-col items-center gap-1",children:[s.jsx(z,{sx:{fontSize:32}}),s.jsx("span",{className:"text-base font-normal",children:"上傳圖片"})]}),s.jsx("input",{type:"file",accept:"image/*",hidden:!0,onChange:p})]})},J=async a=>{const e=new FormData;e.append("file",a),e.append("upload_preset","jailulu_product_image_upload");try{return(await(await fetch("https://api.cloudinary.com/v1_1/dgtaxvo7h/image/upload",{method:"POST",body:e})).json()).secure_url}catch(t){throw console.error("Cloudinary upload error:",t),t}};export{q as T,F as U,J as u};
